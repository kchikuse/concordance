{fetch file="style.css" assign="css"}
{fetch file="app.js" assign="js"}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="author" content="K Chikuse">
  <meta name="description" content="Concordance">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Concordance</title>
  <meta name="theme-color" content="#418980">
  <link href="favicon.ico" rel="icon">
  <style>{$css|strip}</style>
</head>
<body>
  {strip}
  <container>
    <navigation>
      <div class="search">
        <label>
          <input id="search" type="search" placeholder="Search dictionary..." autocomplete="off">
        </label>
      </div>

      <details class="books">
        <summary>BOOKS</summary>
        <ul>
        {foreach $books as $b}
          <li>
            <a {if $b.id eq $book.id} class="active" {else} href="?book={$b.id}&chapter=1" {/if}>{$b.name}</a>
          </li>
        {/foreach}
        </ul>
      </details>

      <details class="chapters">
        <summary>CHAPTERS</summary>
        <ul>
        {foreach $chapters as $c}
          <li>
            <a {if $c eq $chapter} class="active" {else} href="?book={$book.id}&chapter={$c}" {/if}>{$c}</a>
          </li>
        {/foreach}
        </ul>
      </details>

      <div class="analysis"></div>
      
      <div class="verse-nav">
        <a {if $prev.book} href="?book={$prev.book.id}&chapter={$prev.chapter}" {/if} class="prev"></a>
        <a {if $next.book} href="?book={$next.book.id}&chapter={$next.chapter}" {/if} class="next"></a>
      </div>
    </navigation>

    <div class="verses">
      <h1>{$book.name} {$chapter}</h1>

      {foreach $verses as $v}
        {$prefixes = ['strong:', 'strongMorph:']}
        <p><sup>{$v.verse}</sup> {$v.text|replace:$prefixes:''}</p>
      {/foreach}
    </div>

  </container>
  {/strip}
</body>
<script>{$js|strip}</script>
</html>